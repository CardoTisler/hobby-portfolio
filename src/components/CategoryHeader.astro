---
interface Props {
  title: string;
  description: string;
  projectCount: number;
}

const { title, description, projectCount } = Astro.props;

// Map category to drawing code
const codeMap: Record<string, string> = {
  'All Work': 'CAT-000',
  'Woodworking': 'CAT-001',
  'Renovation': 'CAT-002',
  'Garden': 'CAT-003',
};

const drawingCode = codeMap[title] || 'CAT-999';
---

<div class="pt-28 pb-12 px-8 lg:px-12 bg-aged/30">
  <div class="max-w-6xl mx-auto">
    <!-- Back link -->
    <a
      href="/"
      class="inline-flex items-center gap-3 text-faded hover:text-navy transition-colors duration-300 mb-8 animate-fade-in group"
    >
      <svg class="w-4 h-4 transform group-hover:-translate-x-1 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      <span class="text-xs font-label tracking-widest uppercase">Back to Index</span>
    </a>

    <!-- Category title block -->
    <div class="animate-fade-up blueprint-box p-6 lg:p-8 bg-paper">
      <div class="flex flex-col lg:flex-row lg:items-end lg:justify-between gap-6">
        <div>
          <div class="tech-label mb-3">{drawingCode}</div>
          <h1 class="font-display text-4xl sm:text-5xl text-navy tracking-tight">
            {title}
          </h1>
          <p class="mt-4 text-faded text-sm max-w-lg leading-relaxed">
            {description}
          </p>
        </div>

        <div class="flex items-center gap-4">
          <div class="text-right">
            <div class="tech-label mb-1">Items</div>
            <div class="text-2xl font-display text-navy">{projectCount}</div>
          </div>
          <div class="stamp text-ink border-ink">
            {projectCount === 1 ? 'Project' : 'Projects'}
          </div>
        </div>
      </div>
    </div>

    <!-- Divider with measurement marks -->
    <div class="mt-8 flex items-center gap-2">
      <div class="h-3 border-l border-light-ink"></div>
      {[...Array(5)].map(() => (
        <div class="flex-1 border-t border-dashed border-light-ink"></div>
      ))}
      <div class="h-3 border-r border-light-ink"></div>
    </div>
  </div>
</div>
